const EDC_ICONS_MAP = {
  "badger": 
    "M 4.7259025,0.05 C 4.0967277,0.05 3.6583369,0.48635378 3.3944858,0.89429347 3.1306479,1.3022336 2.9763904,1.7345286 2.8749093,1.9983692 2.4771273,3.0232924 2.4913237,4.6449053 2.5177112,5.7976907 1.4968248,7.1432825 0.56524131,8.8115729 0.06596125,10.830973 c -0.04463512,0.17453 0.0061354,0.357198 0.12989334,0.487095 3.20675951,3.348768 8.76785141,11.86882 8.76785141,11.86882 0.04051,0.06495 0.097414,0.121781 0.1623845,0.162385 0,0 0.2882227,0.18062 0.7631269,0.324705 C 10.364147,23.818069 11.060296,23.95 11.999993,23.95 c 0.9397,0 1.635857,-0.131943 2.110775,-0.276024 0.474932,-0.144093 0.763132,-0.324705 0.763132,-0.324705 0.06498,-0.04049 0.121758,-0.0974 0.162388,-0.162385 0,0 5.561092,-8.520052 8.767848,-11.86882 0.123798,-0.129891 0.174529,-0.312555 0.129902,-0.487096 C 23.440801,8.8298412 22.509215,7.1859043 21.498477,5.8463996 21.524663,4.6915836 21.545154,3.0395294 21.141276,1.9983692 21.039821,1.7345291 20.885538,1.3022329 20.621702,0.89429347 20.357863,0.48635303 19.919461,0.05 19.290291,0.05 18.983819,0.05 18.862049,0.14335833 18.657052,0.24483694 18.452048,0.34631664 18.214606,0.48026553 17.958876,0.63451097 17.494095,0.91458931 16.960319,1.2738198 16.465094,1.6086962 H 7.551108 C 7.0558909,1.2738214 6.5221068,0.91458931 6.0573275,0.63451097 5.8015884,0.48026553 5.5641377,0.34631578 5.3591471,0.24483694 5.1541397,0.14335814 5.0323874,0.05 4.7259143,0.05 Z m -0.048722,1.0391307 c -0.00821,0.00403 0.1075574,0.022337 0.2273059,0.081179 0.1603295,0.079156 0.3774908,0.2131037 0.6169986,0.3572026 0.4810125,0.2902246 1.0655361,0.663664 1.5912006,1.0228941 0.020437,0.012183 0.042629,0.022342 0.064966,0.032481 C 6.8184044,5.7124629 5.6879287,3.3926848 4.4985811,4.076643 4.1088994,4.3019221 3.8267861,4.7139236 3.5568512,5.1157736 3.5691246,4.0766434 3.6421112,2.8792089 3.8328815,2.3880566 3.9444881,2.1018913 4.0825232,1.7304822 4.255035,1.4625811 4.4092708,1.2230949 4.5391664,1.1094407 4.6771932,1.0891445 Z m 14.6617885,0 c 0.133946,0.02029 0.251691,0.1339498 0.405935,0.3734365 0.172516,0.2678995 0.310508,0.6393083 0.422141,0.9254756 0.192823,0.4952108 0.276033,1.712941 0.292274,2.76019 C 20.183295,4.7382646 19.901186,4.3059701 19.501363,4.0766302 18.314042,3.3947006 17.183561,5.7043301 16.822287,2.5991161 c 0.02819,-0.014197 0.05476,-0.030442 0.08118,-0.048706 0.525669,-0.3592316 1.11019,-0.7326675 1.591208,-1.0228942 0.239497,-0.1440986 0.456655,-0.2780492 0.616991,-0.3572029 0.119741,-0.05886 0.235447,-0.077118 0.227305,-0.081182 z M 9.2072319,2.6478257 H 14.792675 C 14.449669,3.5976562 13.55868,6.489767 13.55868,11.366774 c 0,5.707102 1.623682,7.712295 2.532934,8.394228 -0.74283,1.087847 -1.229932,1.822539 -1.493783,2.224391 v -0.633218 c -0.0021,-0.190767 -0.107553,-0.365339 -0.276029,-0.45462 0,0 -1.067563,-0.584518 -2.321854,-0.584518 -1.25429,0 -2.3218514,0.584518 -2.3218514,0.584518 -0.1684668,0.08934 -0.2739843,0.263833 -0.2760319,0.45462 v 0.633218 c -0.2638409,-0.40186 -0.7509511,-1.136544 -1.4937824,-2.224391 0.9092588,-0.681933 2.5329327,-2.687126 2.5329327,-8.394228 0,-4.877007 -0.8909902,-7.7691177 -1.2339917,-8.7189483 z M 3.1996321,6.5932743 c 1.3679463,1.3740064 2.4740759,3.2756959 3.2473482,5.1956517 0.1420865,-0.186717 0.363295,-0.308505 0.6169986,-0.308505 0.4302742,0 0.7793658,0.349086 0.7793658,0.779344 0,0.430265 -0.349098,0.779347 -0.7793658,0.779347 -0.05887,0 -0.1075575,-0.0043 -0.1623845,-0.01633 0.8625785,2.607972 1.077715,5.047485 0.5033416,6.023705 C 5.5925327,16.41631 3.1265738,12.980273 1.1538088,10.86345 1.6003203,9.2032804 2.3451799,7.7622997 3.1996419,6.5932777 Z m 17.6006459,0 c 0.854466,1.1710518 1.597296,2.6059445 2.045832,4.2701727 -1.972767,2.116821 -4.438724,5.552858 -6.251158,8.183152 -0.574366,-0.976209 -0.359244,-3.415733 0.503342,-6.023704 -0.05482,0.01227 -0.103507,0.01633 -0.162376,0.01633 -0.430278,0 -0.779362,-0.349099 -0.779362,-0.779349 0,-0.430267 0.34909,-0.779354 0.779362,-0.779354 0.25369,0 0.474926,0.121788 0.616991,0.308517 0.77328,-1.919953 1.879407,-3.8216436 3.247353,-5.1956504 z M 11.999951,21.352175 c 0.698182,0 1.262407,0.213102 1.558729,0.340946 v 1.039129 c -0.375489,0.09133 -0.888958,0.178618 -1.558729,0.178618 -0.669759,0 -1.183254,-0.08723 -1.558727,-0.178618 v -1.039129 c 0.296319,-0.127852 0.86055,-0.340946 1.558727,-0.340946 z",
  "badger-fill":
    "M 23.934871,10.837067 C 23.494493,9.0591801 22.676647,7.3705929 21.499597,5.8139267 21.523948,4.5190729 21.475248,2.8751358 21.138365,2.0064878 l -0.03247,-0.08524 C 20.85425,1.267731 20.38546,0.05 19.28147,0.05 c -0.200912,0 -0.533732,0 -2.831007,1.5586957 H 7.5596851 C 5.2624098,0.05 4.9275593,0.05 4.7266491,0.05 3.6226578,0.05 3.1538675,1.2697604 2.9022225,1.9232762 l -0.030441,0.083212 C 2.5957844,2.7107423 2.4740207,3.9873302 2.5085203,5.8017496 1.3274123,7.3624746 0.50550755,9.0551204 0.06512897,10.837067 0.0225118,11.009579 0.07121697,11.192239 0.19501025,11.3201 3.4258066,14.693215 8.9112626,23.109766 8.9660558,23.195007 c 0.042619,0.06088 0.095382,0.115684 0.158293,0.154246 0.097411,0.06292 1.0004912,0.600747 2.8756522,0.600747 1.873132,0 2.778242,-0.537832 2.875652,-0.600747 0.06292,-0.03856 0.117706,-0.09336 0.158293,-0.154246 0.05479,-0.08524 5.540248,-8.501792 8.771044,-11.874907 0.123793,-0.127861 0.172498,-0.310521 0.129881,-0.483033 z M 16.608757,2.647826 c 0.04059,0 0.07915,-0.00812 0.117704,-0.018266 0.03247,-0.00608 0.06291,-0.018266 0.09133,-0.032473 0.359203,3.1336277 1.489575,0.7935548 2.678801,1.4775137 0.40182,0.2313686 0.692024,0.6717817 0.968021,1.0837802 0.002,0.2618126 0,0.5297134 -0.0061,0.813851 -0.0041,0.1197428 0.0345,0.2374569 0.107557,0.3308161 0.07712,0.099448 0.150175,0.2009258 0.223234,0.3024038 -1.365783,1.3719766 -2.463685,3.267578 -3.234855,5.1834752 -0.142056,-0.184689 -0.36529,-0.308492 -0.618965,-0.308492 -0.43023,0 -0.779287,0.349082 -0.779287,0.779347 0,0.430266 0.349057,0.779348 0.779287,0.779348 0.05885,0 0.113647,-0.0082 0.168441,-0.02029 -0.858435,2.593768 -1.081668,5.019082 -0.519526,6.007473 -0.172498,0.251664 -0.340938,0.495211 -0.50126,0.728609 0,0.002 0,0.002 -0.002,0.0041 -0.911197,-0.694107 -2.522537,-2.723658 -2.522537,-8.396256 0,-4.7126184 0.856404,-7.6635865 1.223724,-8.7148945 z m -2.530656,19.932226 c -0.33282,0.131922 -1.012668,0.330818 -2.0781,0.330818 -1.065432,0 -1.747309,-0.200926 -2.0781002,-0.330818 v -1.227878 c 0,0 0.9903442,-0.519566 2.0781002,-0.519566 1.087756,0 2.0781,0.519566 2.0781,0.519566 z M 3.5495996,5.9620837 C 3.5435151,5.6759171 3.5435151,5.4059866 3.5435151,5.1441751 3.8174836,4.7382645 4.1056578,4.3019108 4.5034194,4.0746011 5.6926457,3.3906422 6.8230187,5.7327446 7.1822219,2.5930281 c 0.030439,0.016236 0.062911,0.028414 0.097411,0.036532 0.038561,0.010147 0.079146,0.018266 0.1197338,0.018266 h 1.8183378 c 0.3673205,1.051308 1.2237245,4.0022761 1.2237245,8.7148939 0,5.672598 -1.6113385,7.702149 -2.5225375,8.396256 C 7.758566,19.523548 7.5901265,19.280002 7.4155982,19.026308 7.977741,18.039946 7.7545074,15.612603 6.8960729,13.018835 c 0.054794,0.01218 0.1095877,0.02029 0.16844,0.02029 0.4302316,0 0.7792877,-0.349083 0.7792877,-0.779348 0,-0.430265 -0.3490561,-0.779348 -0.7792877,-0.779348 -0.2536741,0 -0.4769078,0.123803 -0.6189651,0.310522 C 5.6743775,9.8750592 4.5744441,7.9794583 3.2086613,6.6054521 3.2857786,6.4999155 3.360866,6.3964079 3.4420418,6.2929009 3.5151001,6.1975116 3.5536587,6.0797979 3.5495996,5.9620837 Z"
};

async function getIcon(name) {
  return { path: EDC_ICONS_MAP[name] };
}

let edc_icons_mode = 'modern';
window.customIconsets = window.customIconsets || {};
window.customIconsets["edc"] = getIcon;

async function getIconList() {
  return Object.keys(EDC_ICONS_MAP).map(icon => ({name: icon}));
}

if (!window.frontendVersion || window.frontendVersion < 20200519.0) {
  // ha-iconset-svg (Up to Home Assistant 0.109):
  const iconset = document.createElement("ha-iconset-svg");
  iconset.name = "edc";
  iconset.size = "2";

  let iconsetHTML = "";
  for (let key in EDC_ICONS_MAP) {
    iconsetHTML += `<g id="${key}"><path d="${EDC_ICONS_MAP[key]}" /></g>`;
  }

  iconset.innerHTML = `<svg><defs>${iconsetHTML}</defs></svg>`;
  document.body.appendChild(iconset);

  edc_icons_mode = 'legacy';
} else if(window.frontendVersion > 20211027.0) {
  // new enough to support getIcon and getIconlist
  edc_icons_mode = 'picker';
  window.customIcons["edc"] = { getIcon, getIconList };
}

console.info(
  `%c HASS-EDC-ICONS         \n%c Version 1.0 [` + edc_icons_mode + `] `,
  "color: orange; font-weight: bold; background: black",
  "color: white; font-weight: bold; background: dimgray"
);