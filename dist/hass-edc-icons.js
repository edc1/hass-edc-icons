const EDC_ICONS_MAP = {
  "badger": 
    "M 4.6954664,0 C 4.0636597,0 3.623434,0.43817954 3.3584792,0.84782611 3.0935369,1.2574734 2.9386347,1.6915764 2.836729,1.9565217 2.4372819,2.9857335 2.4515376,4.6141303 2.4780359,5.7717395 1.4528788,7.1229616 0.51739703,8.7982323 0.01602792,10.826085 c -0.0448218,0.175256 0.0061616,0.358686 0.13043686,0.489133 3.22017712,3.362773 8.80453622,11.918477 8.80453622,11.918477 0.04068,0.0652 0.097824,0.122294 0.1630632,0.163059 0,0 0.2894269,0.181377 0.7663199,0.326067 C 10.357299,23.867517 11.056363,24 11.999994,24 c 0.943634,0 1.642701,-0.132494 2.11961,-0.277179 0.476917,-0.144697 0.766324,-0.326067 0.766324,-0.326067 0.06523,-0.04067 0.122263,-0.09783 0.163063,-0.163059 0,0 5.584358,-8.555704 8.804536,-11.918477 0.124317,-0.13044 0.175258,-0.313865 0.130443,-0.489133 C 23.488664,8.8165766 22.553186,7.1657613 21.538218,5.8206522 21.564512,4.6610048 21.585093,3.002038 21.179524,1.9565217 21.077639,1.6915769 20.922717,1.2574727 20.657776,0.84782611 20.392832,0.43817871 19.952599,0 19.320791,0 19.013041,0 18.890755,0.09374887 18.684909,0.1956522 18.479044,0.29755647 18.240605,0.43206575 17.983805,0.58695659 17.517085,0.86820685 16.981067,1.2289406 16.483772,1.5652175 H 7.5324933 C 7.0352036,1.2289421 6.4991864,0.86820685 6.0324625,0.58695659 5.7756535,0.43206575 5.5372094,0.29755564 5.331361,0.1956522 5.1254954,0.09374875 5.003234,0 4.6954788,0 Z m -0.048929,1.0434782 c -0.00821,0.00408 0.108007,0.022431 0.2282554,0.081523 0.1610027,0.079485 0.3790706,0.2139952 0.6195802,0.3586976 0.4830251,0.2914386 1.0699943,0.6664405 1.5978584,1.0271741 0.020536,0.012236 0.042802,0.022431 0.065239,0.032619 C 6.7967237,5.6861554 5.6615178,3.356671 4.4671944,4.0434915 4.0758818,4.2697129 3.7925879,4.6834375 3.5215241,5.0869693 3.533849,4.0434915 3.6071405,2.8410467 3.7987091,2.3478397 3.9107827,2.0604764 4.0493958,1.6875134 4.2226292,1.4184917 4.377511,1.1780026 4.5079486,1.0638734 4.6465533,1.0434926 Z m 14.7231376,0 c 0.134501,0.020377 0.252742,0.1345106 0.407625,0.374999 0.173244,0.2690203 0.311816,0.641984 0.423919,0.9293481 0.193622,0.4972826 0.277185,1.7201081 0.293495,2.7717388 C 20.217537,4.707881 19.934242,4.2737774 19.532742,4.0434778 18.340461,3.3586956 17.205246,5.6779887 16.842465,2.5597823 c 0.02834,-0.014256 0.055,-0.030565 0.08152,-0.048912 0.527868,-0.3607351 1.114838,-0.7357334 1.597862,-1.027174 0.240497,-0.1447017 0.458569,-0.2792126 0.619577,-0.3586977 0.120243,-0.059104 0.236429,-0.077443 0.228255,-0.081523 z M 9.1955461,2.6086957 h 5.6088159 c -0.344439,0.9538039 -1.239157,3.8580156 -1.239157,8.7554343 0,5.73098 1.630469,7.744563 2.543532,8.429347 -0.745939,1.092391 -1.235082,1.830164 -1.500033,2.233697 v -0.635873 c -0.002,-0.191564 -0.108004,-0.36686 -0.277185,-0.456521 0,0 -1.072032,-0.586956 -2.33157,-0.586956 -1.259537,0 -2.3315693,0.586956 -2.3315693,0.586956 -0.169173,0.08967 -0.2751314,0.264937 -0.2771851,0.456521 v 0.635873 C 9.1262511,21.623627 8.6371009,20.885868 7.8911622,19.793477 8.8042252,19.108693 10.434695,17.09511 10.434695,11.36413 c 0,-4.8974187 -0.8947207,-7.8016304 -1.2391575,-8.7554343 z m -6.0327355,3.961956 c 1.3736699,1.3797558 2.4844271,3.2894024 3.2609352,5.2173933 0.1426803,-0.187498 0.3648145,-0.309797 0.6195801,-0.309797 0.4320748,0 0.7826264,0.35055 0.7826264,0.782607 0,0.432062 -0.3505602,0.782609 -0.7826264,0.782609 -0.059112,0 -0.1080069,-0.0041 -0.1630631,-0.01643 0.8661876,2.618884 1.082224,5.068613 0.505448,6.048912 C 5.5657232,16.434785 3.0894466,12.984379 1.1084266,10.858699 1.5568071,9.191578 2.3047833,7.7445685 3.1628202,6.5706551 Z m 17.6742864,0 c 0.858037,1.1759516 1.603975,2.616848 2.054392,4.2880443 -1.981018,2.125679 -4.457295,5.576085 -6.277308,8.21739 -0.576776,-0.980298 -0.360748,-3.430027 0.505448,-6.04891 -0.05506,0.01232 -0.103939,0.01643 -0.163063,0.01643 -0.432075,0 -0.782626,-0.350552 -0.782626,-0.782611 0,-0.432065 0.350558,-0.782607 0.782626,-0.782607 0.254755,0 0.476913,0.122294 0.619577,0.309798 0.776511,-1.9279904 1.887268,-3.8376377 3.260939,-5.2173936 z M 11.999953,21.391301 c 0.701101,0 1.267689,0.213996 1.565252,0.342377 v 1.043479 c -0.377059,0.09169 -0.892682,0.179362 -1.565252,0.179362 -0.672568,0 -1.188206,-0.08762 -1.56525,-0.179362 v -1.043479 c 0.297561,-0.128388 0.86415,-0.342377 1.56525,-0.342377 z"
};

async function getIcon(name) {
  return { path: EDC_ICONS_MAP[name] };
}

let edc_icons_mode = 'modern';
window.customIconsets = window.customIconsets || {};
window.customIconsets["edc"] = getIcon;

async function getIconList() {
  return Object.keys(EDC_ICONS_MAP).map(icon => ({name: icon}));
}

if (!window.frontendVersion || window.frontendVersion < 20200519.0) {
  // ha-iconset-svg (Up to Home Assistant 0.109):
  const iconset = document.createElement("ha-iconset-svg");
  iconset.name = "edc";
  iconset.size = "1";

  let iconsetHTML = "";
  for (let key in EDC_ICONS_MAP) {
    iconsetHTML += `<g id="${key}"><path d="${EDC_ICONS_MAP[key]}" /></g>`;
  }

  iconset.innerHTML = `<svg><defs>${iconsetHTML}</defs></svg>`;
  document.body.appendChild(iconset);

  edc_icons_mode = 'legacy';
} else if(window.frontendVersion > 20211027.0) {
  // new enough to support getIcon and getIconlist
  edc_icons_mode = 'picker';
  window.customIcons["edc"] = { getIcon, getIconList };
}

console.info(
  `%c HASS-EDC-ICONS         \n%c Version 1.0 [` + edc_icons_mode + `] `,
  "color: orange; font-weight: bold; background: black",
  "color: white; font-weight: bold; background: dimgray"
);