const EDC_ICONS_MAP = {
  "badger": 
    "M 4.6954669,0 C 4.0636596,0 3.6234345,0.43817953 3.3584794,0.84782608 3.0935376,1.2574731 2.9386347,1.6915768 2.836729,1.9565214 2.4372826,2.985733 2.4515384,4.6141308 2.4780363,5.7717396 1.4528784,7.1229615 0.51739709,8.7982322 0.01602799,10.826082 c -0.04482187,0.17526 0.0061611,0.358692 0.13043683,0.489133 3.22017688,3.362779 8.80453688,11.91848 8.80453688,11.91848 0.040679,0.06522 0.097822,0.122291 0.163064,0.163064 0,0 0.2894286,0.181376 0.7663199,0.326064 C 10.357302,23.867517 11.056364,24 11.999993,24 c 0.943632,0 1.642701,-0.132495 2.119607,-0.277179 0.476919,-0.144696 0.766325,-0.326064 0.766325,-0.326064 0.06525,-0.04066 0.122267,-0.09781 0.163067,-0.163064 0,0 5.58436,-8.555701 8.804533,-11.91848 0.124316,-0.130435 0.17526,-0.313863 0.130446,-0.489134 C 23.48867,8.8165769 22.553186,7.1657616 21.538219,5.8206523 21.564515,4.6610045 21.585092,3.0020379 21.179524,1.9565214 21.077644,1.6915773 20.922716,1.2574724 20.657776,0.84782608 20.392833,0.43817877 19.952597,0 19.320794,0 19.01304,0 18.89076,0.09374895 18.684906,0.19565216 18.479044,0.29755646 18.240608,0.4320658 17.983808,0.58695662 17.517083,0.86820684 16.981073,1.2289404 16.483776,1.5652179 H 7.5324933 C 7.0352042,1.228942 6.4991867,0.86820684 6.0324627,0.58695662 5.7756536,0.4320658 5.5372093,0.29755559 5.3313611,0.19565216 5.1254959,0.09374876 5.0032342,0 4.6954787,0 Z M 4.646541,1.0434785 c -0.00824,0.00405 0.1080075,0.022431 0.228257,0.081519 0.1610003,0.079487 0.3790703,0.2139953 0.6195802,0.3586972 0.4830251,0.2914389 1.0699944,0.6664408 1.5978583,1.027174 0.020523,0.012234 0.042807,0.022435 0.065238,0.032617 C 6.796724,5.6861552 5.6615183,3.3566709 4.4671944,4.0434909 4.0758822,4.2697126 3.7925885,4.6834379 3.5215242,5.0869693 3.5338489,4.0434913 3.6071409,2.8410466 3.7987094,2.3478393 3.910783,2.0604766 4.0493956,1.6875135 4.2226292,1.4184915 4.3775104,1.1780032 4.5079495,1.0638735 4.6465538,1.0434924 Z m 14.723135,0 c 0.134506,0.020375 0.252744,0.1345103 0.407633,0.374999 0.173238,0.2690204 0.311807,0.6419833 0.423908,0.9293479 0.193629,0.4972828 0.277187,1.7201081 0.293496,2.7717389 C 20.217535,4.7078808 19.934245,4.2737775 19.532749,4.043478 18.34046,3.3586952 17.205249,5.6779884 16.842464,2.5597819 c 0.02831,-0.014256 0.05499,-0.030569 0.08152,-0.04891 0.527869,-0.3607347 1.114836,-0.7357331 1.597866,-1.0271741 0.240499,-0.1447015 0.458566,-0.2792126 0.619573,-0.3586975 0.120242,-0.059106 0.236432,-0.077441 0.228256,-0.081522 z M 9.1955466,2.6086953 H 14.80436 C 14.459919,3.5625 13.565202,6.4667116 13.565202,11.364125 c 0,5.730981 1.630475,7.744564 2.543532,8.42935 -0.745939,1.092398 -1.235079,1.830165 -1.500034,2.233698 v -0.635868 c -0.0021,-0.191565 -0.108003,-0.366867 -0.277183,-0.456522 0,0 -1.07203,-0.586963 -2.331569,-0.586963 -1.259538,0 -2.3315666,0.586963 -2.3315666,0.586963 -0.1691717,0.08971 -0.2751307,0.264937 -0.2771868,0.456522 v 0.635868 c -0.2649449,-0.403542 -0.7540932,-1.1413 -1.5000325,-2.233698 0.9130632,-0.684786 2.5435309,-2.698369 2.5435309,-8.42935 0,-4.8974134 -0.8947184,-7.801625 -1.2391551,-8.7554297 z M 3.1628104,6.570652 c 1.37367,1.3797554 2.4844277,3.2894018 3.2609354,5.217391 0.142681,-0.187498 0.3648151,-0.309796 0.6195802,-0.309796 0.4320745,0 0.7826268,0.350547 0.7826268,0.782605 0,0.432065 -0.3505587,0.782608 -0.7826268,0.782608 -0.059116,0 -0.1080075,-0.0043 -0.1630639,-0.0164 0.8661876,2.618884 1.0822242,5.068605 0.5054476,6.048909 C 5.5657232,16.434788 3.0894465,12.984375 1.1084272,10.858695 1.556807,9.1915786 2.3047831,7.7445687 3.1628203,6.5706554 Z m 17.6742886,0 c 0.858041,1.1759516 1.603979,2.6168481 2.054392,4.28804 -1.981021,2.125678 -4.457296,5.576091 -6.277313,8.217391 -0.57677,-0.980294 -0.360748,-3.430025 0.505448,-6.048908 -0.05505,0.01232 -0.10394,0.0164 -0.163056,0.0164 -0.432078,0 -0.782623,-0.350559 -0.782623,-0.78261 0,-0.432067 0.350551,-0.782615 0.782623,-0.782615 0.254752,0 0.476913,0.122298 0.619573,0.309808 0.776515,-1.9279859 1.88727,-3.8376334 3.26094,-5.2173892 z m -8.837148,14.820653 c 0.701103,0 1.267689,0.213994 1.565251,0.342373 v 1.043477 c -0.377061,0.09171 -0.892678,0.179365 -1.565251,0.179365 -0.672562,0 -1.188205,-0.0876 -1.565249,-0.179365 v -1.043477 c 0.297559,-0.128387 0.86415,-0.342373 1.565249,-0.342373 z",
  "badger-fill":
    "M 23.984808,10.832201 C 23.542587,9.0468754 22.721319,7.351223 21.539344,5.7880435 21.563797,4.487772 21.514893,2.8369565 21.176601,1.9646739 l -0.03261,-0.085597 C 20.891297,1.2228261 20.420546,0 19.311936,0 19.110184,0 18.775971,0 16.469084,1.5652174 H 7.5411062 C 5.234219,0 4.8979675,0 4.6962166,0 3.5876061,0 3.1168544,1.224864 2.8641565,1.8811142 l -0.030568,0.08356 C 2.5564362,2.6718751 2.434163,3.9538044 2.468807,5.7758155 1.2827571,7.3430707 0.4574134,9.0427987 0.01519223,10.832201 c -0.04279548,0.173234 0.0061138,0.356658 0.13042472,0.485054 3.24431435,3.387229 8.75272195,11.838995 8.80774435,11.924593 0.042797,0.06114 0.095781,0.116168 0.1589553,0.154891 C 9.2101349,23.459918 10.116994,24 12.000001,24 c 1.880969,0 2.789866,-0.540082 2.887684,-0.603261 0.06318,-0.03872 0.118198,-0.09375 0.158955,-0.154891 0.05502,-0.0856 5.563429,-8.537364 8.807743,-11.924593 0.124311,-0.128396 0.17322,-0.31182 0.130425,-0.485054 z M 16.62804,2.6086956 c 0.04076,0 0.07948,-0.00815 0.118197,-0.018342 0.03261,-0.00611 0.06317,-0.018342 0.09171,-0.032609 0.360706,3.1467391 1.495808,0.7968751 2.690009,1.4836957 0.403502,0.2323367 0.69492,0.6745925 0.972072,1.0883149 0.002,0.262908 0,0.5319298 -0.0061,0.8172562 -0.0041,0.1202438 0.03465,0.2384505 0.108007,0.3322003 0.07744,0.099864 0.150804,0.2017665 0.224168,0.3036691 -1.371497,1.3777171 -2.473993,3.2812498 -3.24839,5.2051632 -0.14265,-0.185462 -0.366818,-0.309783 -0.621554,-0.309783 -0.432031,0 -0.782548,0.350543 -0.782548,0.782608 0,0.432066 0.350517,0.782609 0.782548,0.782609 0.0591,0 0.114122,-0.0082 0.169145,-0.02038 -0.862026,2.60462 -1.086193,5.040082 -0.521699,6.032609 -0.17322,0.252717 -0.342365,0.497283 -0.503358,0.731657 0,0.002 0,0.002 -0.002,0.0041 -0.91501,-0.697011 -2.533092,-2.735054 -2.533092,-8.431386 0,-4.7323365 0.859988,-7.6956518 1.228845,-8.7513585 z M 14.086796,22.62432 c -0.334213,0.132474 -1.016905,0.332202 -2.086795,0.332202 -1.06989,0 -1.75462,-0.201767 -2.0867953,-0.332202 v -1.233016 c 0,0 0.9944883,-0.521739 2.0867953,-0.521739 1.092307,0 2.086795,0.521739 2.086795,0.521739 z M 3.5142423,5.9368205 C 3.5081323,5.6494565 3.5081323,5.3783966 3.5081323,5.1154896 3.7832471,4.7078807 4.0726271,4.2697012 4.4720529,4.0414404 5.6662551,3.3546198 6.8013576,5.7065218 7.1620637,2.5536684 c 0.030566,0.016304 0.063174,0.028533 0.097819,0.036685 0.038722,0.01019 0.079477,0.018342 0.1202348,0.018342 h 1.8259459 c 0.3688574,1.0557067 1.2288446,4.019022 1.2288446,8.7513586 0,5.696332 -1.6180805,7.734375 -2.533092,8.431386 -0.1609967,-0.236413 -0.330141,-0.480978 -0.5053995,-0.735733 0.5644948,-0.990489 0.3403272,-3.427989 -0.5216991,-6.032609 0.055023,0.01223 0.1100463,0.02038 0.1691448,0.02038 0.4320317,0 0.7825483,-0.350544 0.7825483,-0.782609 0,-0.432065 -0.3505166,-0.782609 -0.7825483,-0.782609 -0.2547355,0 -0.4789032,0.124321 -0.6215549,0.311821 C 5.6479104,9.8661682 4.5433748,7.962636 3.1718774,6.5828808 3.2493174,6.4769026 3.324719,6.3729619 3.4062344,6.2690218 3.4795984,6.1732334 3.5183183,6.0550272 3.5142423,5.9368205 Z",
  "stars":
    "m7.7762 3.0186c0.50476 2.1505 1.0093 4.3022 1.5141 6.4527l-6.627-0.04162c1.9962 0.94622 3.9928 1.8937 5.9889 2.8399-1.3879 1.7186-2.7758 3.436-4.1637 5.1546 1.9842-0.97067 3.969-1.9407 5.9533-2.9112 0.47828 2.1565 0.95646 4.312 1.4348 6.4685 0.47819-2.1565 0.95661-4.312 1.4348-6.4685 1.9842 0.97059 3.969 1.9406 5.9533 2.9112l-4.1637-5.1546c1.9962-0.94618 3.9927-1.8937 5.9889-2.8399l-6.627 0.04162c0.50476-2.1505 1.0093-4.3022 1.5141-6.4527-1.3667 1.7354-2.7336 3.4708-4.1003 5.2062-1.3667-1.7354-2.7336-3.4708-4.1003-5.2062zm-2.8517 2.1701c0.22637 0.96446 0.45354 1.9309 0.67975 2.8954l1.6052 0.0079c-0.76147-0.96725-1.5233-1.9362-2.285-2.9033zm7.0769 0c0.05117 0.21801 0.10145 0.43596 0.1526 0.65399 0.06022-0.07647 0.12212-0.15144 0.18233-0.2279-0.11169-0.14183-0.22323-0.28426-0.33492-0.42608zm0 0c-0.153 0.19428-0.30674 0.39033-0.45977 0.58462 0.08237 0.10459 0.16734 0.20655 0.2497 0.31114 0.07014-0.29864 0.13997-0.59714 0.21007-0.89576zm7.075 0c-0.76097 0.96627-1.5222 1.9349-2.283 2.9014l1.6033-0.0099c0.22605-0.9638 0.45354-1.9277 0.67975-2.8914zm-18.565 5.5351c1.7226 0.81656 3.4459 1.6329 5.1684 2.4495-1.1976 1.4831-2.3933 2.966-3.591 4.4491 0.34514-0.16884 0.6914-0.33854 1.0365-0.50734 1.2785-1.5832 2.5543-3.1671 3.8327-4.7503-1.1415-0.54109-2.281-1.0819-3.4225-1.6231l-3.0242-0.01784zm22.978 0-3.2719 0.01982c-1.1404 0.54058-2.2821 1.0805-3.4225 1.6211l3.6762 4.5521c0.48047 0.23503 0.96016 0.47042 1.4407 0.70551l-3.591-4.4491c1.7226-0.81653 3.4458-1.6329 5.1685-2.4495zm-13.956 5.1388c-0.64411 0.31507-1.2881 0.63222-1.9322 0.94729 0.28702 1.294 0.57304 2.5902 0.8601 3.8843 0.35696-1.6098 0.71513-3.2219 1.0721-4.8316zm4.9644 0.13476c0.347 1.5645 0.69338 3.1322 1.0404 4.6968 0.27893-1.2579 0.5573-2.5175 0.83631-3.7753-0.62569-0.30606-1.2511-0.61547-1.8767-0.92152zm-0.58462 0.48157c-0.04604 0.20765-0.09268 0.4166-0.13872 0.62426 0.35413 0.173 0.70823 0.34605 1.0623 0.51923l-0.92351-1.1435zm-4.019 0.23782c-0.2441 0.30172-0.48753 0.60382-0.73127 0.90568 0.28008-0.13701 0.56015-0.27324 0.84027-0.41023-0.03655-0.16476-0.07245-0.33068-0.109-0.49544z"  
};

async function getIcon(name) {
  return { path: EDC_ICONS_MAP[name] };
}

let edc_icons_mode = 'modern';
window.customIconsets = window.customIconsets || {};
window.customIconsets["edc"] = getIcon;

async function getIconList() {
  return Object.keys(EDC_ICONS_MAP).map(icon => ({name: icon}));
}

if (!window.frontendVersion || window.frontendVersion < 20200519.0) {
  // ha-iconset-svg (Up to Home Assistant 0.109):
  const iconset = document.createElement("ha-iconset-svg");
  iconset.name = "edc";
  iconset.size = "3";

  let iconsetHTML = "";
  for (let key in EDC_ICONS_MAP) {
    iconsetHTML += `<g id="${key}"><path d="${EDC_ICONS_MAP[key]}" /></g>`;
  }

  iconset.innerHTML = `<svg><defs>${iconsetHTML}</defs></svg>`;
  document.body.appendChild(iconset);

  edc_icons_mode = 'legacy';
} else if(window.frontendVersion > 20211027.0) {
  // new enough to support getIcon and getIconlist
  edc_icons_mode = 'picker';
  window.customIcons["edc"] = { getIcon, getIconList };
}

console.info(
  `%c HASS-EDC-ICONS         \n%c Version 1.0 [` + edc_icons_mode + `] `,
  "color: orange; font-weight: bold; background: black",
  "color: white; font-weight: bold; background: dimgray"
);