const EDC_ICONS_MAP = {
  "badger": 
    "M 4.7259025,0.05 C 4.0967277,0.05 3.6583369,0.48635378 3.3944858,0.89429347 3.1306479,1.3022336 2.9763904,1.7345286 2.8749093,1.9983692 2.4771273,3.0232924 2.4913237,4.6449053 2.5177112,5.7976907 1.4968248,7.1432825 0.56524131,8.8115729 0.06596125,10.830973 c -0.04463512,0.17453 0.0061354,0.357198 0.12989334,0.487095 3.20675951,3.348768 8.76785141,11.86882 8.76785141,11.86882 0.04051,0.06495 0.097414,0.121781 0.1623845,0.162385 0,0 0.2882227,0.18062 0.7631269,0.324705 C 10.364147,23.818069 11.060296,23.95 11.999993,23.95 c 0.9397,0 1.635857,-0.131943 2.110775,-0.276024 0.474932,-0.144093 0.763132,-0.324705 0.763132,-0.324705 0.06498,-0.04049 0.121758,-0.0974 0.162388,-0.162385 0,0 5.561092,-8.520052 8.767848,-11.86882 0.123798,-0.129891 0.174529,-0.312555 0.129902,-0.487096 C 23.440801,8.8298412 22.509215,7.1859043 21.498477,5.8463996 21.524663,4.6915836 21.545154,3.0395294 21.141276,1.9983692 21.039821,1.7345291 20.885538,1.3022329 20.621702,0.89429347 20.357863,0.48635303 19.919461,0.05 19.290291,0.05 18.983819,0.05 18.862049,0.14335833 18.657052,0.24483694 18.452048,0.34631664 18.214606,0.48026553 17.958876,0.63451097 17.494095,0.91458931 16.960319,1.2738198 16.465094,1.6086962 H 7.551108 C 7.0558909,1.2738214 6.5221068,0.91458931 6.0573275,0.63451097 5.8015884,0.48026553 5.5641377,0.34631578 5.3591471,0.24483694 5.1541397,0.14335814 5.0323874,0.05 4.7259143,0.05 Z m -0.048722,1.0391307 c -0.00821,0.00403 0.1075574,0.022337 0.2273059,0.081179 0.1603295,0.079156 0.3774908,0.2131037 0.6169986,0.3572026 0.4810125,0.2902246 1.0655361,0.663664 1.5912006,1.0228941 0.020437,0.012183 0.042629,0.022342 0.064966,0.032481 C 6.8184044,5.7124629 5.6879287,3.3926848 4.4985811,4.076643 4.1088994,4.3019221 3.8267861,4.7139236 3.5568512,5.1157736 3.5691246,4.0766434 3.6421112,2.8792089 3.8328815,2.3880566 3.9444881,2.1018913 4.0825232,1.7304822 4.255035,1.4625811 4.4092708,1.2230949 4.5391664,1.1094407 4.6771932,1.0891445 Z m 14.6617885,0 c 0.133946,0.02029 0.251691,0.1339498 0.405935,0.3734365 0.172516,0.2678995 0.310508,0.6393083 0.422141,0.9254756 0.192823,0.4952108 0.276033,1.712941 0.292274,2.76019 C 20.183295,4.7382646 19.901186,4.3059701 19.501363,4.0766302 18.314042,3.3947006 17.183561,5.7043301 16.822287,2.5991161 c 0.02819,-0.014197 0.05476,-0.030442 0.08118,-0.048706 0.525669,-0.3592316 1.11019,-0.7326675 1.591208,-1.0228942 0.239497,-0.1440986 0.456655,-0.2780492 0.616991,-0.3572029 0.119741,-0.05886 0.235447,-0.077118 0.227305,-0.081182 z M 9.2072319,2.6478257 H 14.792675 C 14.449669,3.5976562 13.55868,6.489767 13.55868,11.366774 c 0,5.707102 1.623682,7.712295 2.532934,8.394228 -0.74283,1.087847 -1.229932,1.822539 -1.493783,2.224391 v -0.633218 c -0.0021,-0.190767 -0.107553,-0.365339 -0.276029,-0.45462 0,0 -1.067563,-0.584518 -2.321854,-0.584518 -1.25429,0 -2.3218514,0.584518 -2.3218514,0.584518 -0.1684668,0.08934 -0.2739843,0.263833 -0.2760319,0.45462 v 0.633218 c -0.2638409,-0.40186 -0.7509511,-1.136544 -1.4937824,-2.224391 0.9092588,-0.681933 2.5329327,-2.687126 2.5329327,-8.394228 0,-4.877007 -0.8909902,-7.7691177 -1.2339917,-8.7189483 z M 3.1996321,6.5932743 c 1.3679463,1.3740064 2.4740759,3.2756959 3.2473482,5.1956517 0.1420865,-0.186717 0.363295,-0.308505 0.6169986,-0.308505 0.4302742,0 0.7793658,0.349086 0.7793658,0.779344 0,0.430265 -0.349098,0.779347 -0.7793658,0.779347 -0.05887,0 -0.1075575,-0.0043 -0.1623845,-0.01633 0.8625785,2.607972 1.077715,5.047485 0.5033416,6.023705 C 5.5925327,16.41631 3.1265738,12.980273 1.1538088,10.86345 1.6003203,9.2032804 2.3451799,7.7622997 3.1996419,6.5932777 Z m 17.6006459,0 c 0.854466,1.1710518 1.597296,2.6059445 2.045832,4.2701727 -1.972767,2.116821 -4.438724,5.552858 -6.251158,8.183152 -0.574366,-0.976209 -0.359244,-3.415733 0.503342,-6.023704 -0.05482,0.01227 -0.103507,0.01633 -0.162376,0.01633 -0.430278,0 -0.779362,-0.349099 -0.779362,-0.779349 0,-0.430267 0.34909,-0.779354 0.779362,-0.779354 0.25369,0 0.474926,0.121788 0.616991,0.308517 0.77328,-1.919953 1.879407,-3.8216436 3.247353,-5.1956504 z M 11.999951,21.352175 c 0.698182,0 1.262407,0.213102 1.558729,0.340946 v 1.039129 c -0.375489,0.09133 -0.888958,0.178618 -1.558729,0.178618 -0.669759,0 -1.183254,-0.08723 -1.558727,-0.178618 v -1.039129 c 0.296319,-0.127852 0.86055,-0.340946 1.558727,-0.340946 z",
  "badger-fill":
    "M 23.984808,10.832201 C 23.542587,9.0468754 22.721319,7.351223 21.539344,5.7880435 21.563797,4.487772 21.514893,2.8369565 21.176601,1.9646739 l -0.03261,-0.085597 C 20.891297,1.2228261 20.420546,0 19.311936,0 19.110184,0 18.775971,0 16.469084,1.5652174 H 7.5411062 C 5.234219,0 4.8979675,0 4.6962166,0 3.5876061,0 3.1168544,1.224864 2.8641565,1.8811142 l -0.030568,0.08356 C 2.5564362,2.6718751 2.434163,3.9538044 2.468807,5.7758155 1.2827571,7.3430707 0.4574134,9.0427987 0.01519223,10.832201 c -0.04279548,0.173234 0.0061138,0.356658 0.13042472,0.485054 3.24431435,3.387229 8.75272195,11.838995 8.80774435,11.924593 0.042797,0.06114 0.095781,0.116168 0.1589553,0.154891 C 9.2101349,23.459918 10.116994,24 12.000001,24 c 1.880969,0 2.789866,-0.540082 2.887684,-0.603261 0.06318,-0.03872 0.118198,-0.09375 0.158955,-0.154891 0.05502,-0.0856 5.563429,-8.537364 8.807743,-11.924593 0.124311,-0.128396 0.17322,-0.31182 0.130425,-0.485054 z M 16.62804,2.6086956 c 0.04076,0 0.07948,-0.00815 0.118197,-0.018342 0.03261,-0.00611 0.06317,-0.018342 0.09171,-0.032609 0.360706,3.1467391 1.495808,0.7968751 2.690009,1.4836957 0.403502,0.2323367 0.69492,0.6745925 0.972072,1.0883149 0.002,0.262908 0,0.5319298 -0.0061,0.8172562 -0.0041,0.1202438 0.03465,0.2384505 0.108007,0.3322003 0.07744,0.099864 0.150804,0.2017665 0.224168,0.3036691 -1.371497,1.3777171 -2.473993,3.2812498 -3.24839,5.2051632 -0.14265,-0.185462 -0.366818,-0.309783 -0.621554,-0.309783 -0.432031,0 -0.782548,0.350543 -0.782548,0.782608 0,0.432066 0.350517,0.782609 0.782548,0.782609 0.0591,0 0.114122,-0.0082 0.169145,-0.02038 -0.862026,2.60462 -1.086193,5.040082 -0.521699,6.032609 -0.17322,0.252717 -0.342365,0.497283 -0.503358,0.731657 0,0.002 0,0.002 -0.002,0.0041 -0.91501,-0.697011 -2.533092,-2.735054 -2.533092,-8.431386 0,-4.7323365 0.859988,-7.6956518 1.228845,-8.7513585 z M 14.086796,22.62432 c -0.334213,0.132474 -1.016905,0.332202 -2.086795,0.332202 -1.06989,0 -1.75462,-0.201767 -2.0867953,-0.332202 v -1.233016 c 0,0 0.9944883,-0.521739 2.0867953,-0.521739 1.092307,0 2.086795,0.521739 2.086795,0.521739 z M 3.5142423,5.9368205 C 3.5081323,5.6494565 3.5081323,5.3783966 3.5081323,5.1154896 3.7832471,4.7078807 4.0726271,4.2697012 4.4720529,4.0414404 5.6662551,3.3546198 6.8013576,5.7065218 7.1620637,2.5536684 c 0.030566,0.016304 0.063174,0.028533 0.097819,0.036685 0.038722,0.01019 0.079477,0.018342 0.1202348,0.018342 h 1.8259459 c 0.3688574,1.0557067 1.2288446,4.019022 1.2288446,8.7513586 0,5.696332 -1.6180805,7.734375 -2.533092,8.431386 -0.1609967,-0.236413 -0.330141,-0.480978 -0.5053995,-0.735733 0.5644948,-0.990489 0.3403272,-3.427989 -0.5216991,-6.032609 0.055023,0.01223 0.1100463,0.02038 0.1691448,0.02038 0.4320317,0 0.7825483,-0.350544 0.7825483,-0.782609 0,-0.432065 -0.3505166,-0.782609 -0.7825483,-0.782609 -0.2547355,0 -0.4789032,0.124321 -0.6215549,0.311821 C 5.6479104,9.8661682 4.5433748,7.962636 3.1718774,6.5828808 3.2493174,6.4769026 3.324719,6.3729619 3.4062344,6.2690218 3.4795984,6.1732334 3.5183183,6.0550272 3.5142423,5.9368205 Z",
  "stars":
    "m7.7762 3.0186c0.50476 2.1505 1.0093 4.3022 1.5141 6.4527l-6.627-0.04162c1.9962 0.94622 3.9928 1.8937 5.9889 2.8399-1.3879 1.7186-2.7758 3.436-4.1637 5.1546 1.9842-0.97067 3.969-1.9407 5.9533-2.9112 0.47828 2.1565 0.95646 4.312 1.4348 6.4685 0.47819-2.1565 0.95661-4.312 1.4348-6.4685 1.9842 0.97059 3.969 1.9406 5.9533 2.9112l-4.1637-5.1546c1.9962-0.94618 3.9927-1.8937 5.9889-2.8399l-6.627 0.04162c0.50476-2.1505 1.0093-4.3022 1.5141-6.4527-1.3667 1.7354-2.7336 3.4708-4.1003 5.2062-1.3667-1.7354-2.7336-3.4708-4.1003-5.2062zm-2.8517 2.1701c0.22637 0.96446 0.45354 1.9309 0.67975 2.8954l1.6052 0.0079c-0.76147-0.96725-1.5233-1.9362-2.285-2.9033zm7.0769 0c0.05117 0.21801 0.10145 0.43596 0.1526 0.65399 0.06022-0.07647 0.12212-0.15144 0.18233-0.2279-0.11169-0.14183-0.22323-0.28426-0.33492-0.42608zm0 0c-0.153 0.19428-0.30674 0.39033-0.45977 0.58462 0.08237 0.10459 0.16734 0.20655 0.2497 0.31114 0.07014-0.29864 0.13997-0.59714 0.21007-0.89576zm7.075 0c-0.76097 0.96627-1.5222 1.9349-2.283 2.9014l1.6033-0.0099c0.22605-0.9638 0.45354-1.9277 0.67975-2.8914zm-18.565 5.5351c1.7226 0.81656 3.4459 1.6329 5.1684 2.4495-1.1976 1.4831-2.3933 2.966-3.591 4.4491 0.34514-0.16884 0.6914-0.33854 1.0365-0.50734 1.2785-1.5832 2.5543-3.1671 3.8327-4.7503-1.1415-0.54109-2.281-1.0819-3.4225-1.6231l-3.0242-0.01784zm22.978 0-3.2719 0.01982c-1.1404 0.54058-2.2821 1.0805-3.4225 1.6211l3.6762 4.5521c0.48047 0.23503 0.96016 0.47042 1.4407 0.70551l-3.591-4.4491c1.7226-0.81653 3.4458-1.6329 5.1685-2.4495zm-13.956 5.1388c-0.64411 0.31507-1.2881 0.63222-1.9322 0.94729 0.28702 1.294 0.57304 2.5902 0.8601 3.8843 0.35696-1.6098 0.71513-3.2219 1.0721-4.8316zm4.9644 0.13476c0.347 1.5645 0.69338 3.1322 1.0404 4.6968 0.27893-1.2579 0.5573-2.5175 0.83631-3.7753-0.62569-0.30606-1.2511-0.61547-1.8767-0.92152zm-0.58462 0.48157c-0.04604 0.20765-0.09268 0.4166-0.13872 0.62426 0.35413 0.173 0.70823 0.34605 1.0623 0.51923l-0.92351-1.1435zm-4.019 0.23782c-0.2441 0.30172-0.48753 0.60382-0.73127 0.90568 0.28008-0.13701 0.56015-0.27324 0.84027-0.41023-0.03655-0.16476-0.07245-0.33068-0.109-0.49544z"  
};

async function getIcon(name) {
  return { path: EDC_ICONS_MAP[name] };
}

let edc_icons_mode = 'modern';
window.customIconsets = window.customIconsets || {};
window.customIconsets["edc"] = getIcon;

async function getIconList() {
  return Object.keys(EDC_ICONS_MAP).map(icon => ({name: icon}));
}

if (!window.frontendVersion || window.frontendVersion < 20200519.0) {
  // ha-iconset-svg (Up to Home Assistant 0.109):
  const iconset = document.createElement("ha-iconset-svg");
  iconset.name = "edc";
  iconset.size = "3";

  let iconsetHTML = "";
  for (let key in EDC_ICONS_MAP) {
    iconsetHTML += `<g id="${key}"><path d="${EDC_ICONS_MAP[key]}" /></g>`;
  }

  iconset.innerHTML = `<svg><defs>${iconsetHTML}</defs></svg>`;
  document.body.appendChild(iconset);

  edc_icons_mode = 'legacy';
} else if(window.frontendVersion > 20211027.0) {
  // new enough to support getIcon and getIconlist
  edc_icons_mode = 'picker';
  window.customIcons["edc"] = { getIcon, getIconList };
}

console.info(
  `%c HASS-EDC-ICONS         \n%c Version 1.0 [` + edc_icons_mode + `] `,
  "color: orange; font-weight: bold; background: black",
  "color: white; font-weight: bold; background: dimgray"
);