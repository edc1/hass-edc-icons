const EDC_ICONS_MAP = {
  "badger": 
    "M 4.6954669,0 C 4.0636596,0 3.6234345,0.43817953 3.3584794,0.84782608 3.0935376,1.2574731 2.9386347,1.6915768 2.836729,1.9565214 2.4372826,2.985733 2.4515384,4.6141308 2.4780363,5.7717396 1.4528784,7.1229615 0.51739709,8.7982322 0.01602799,10.826082 c -0.04482187,0.17526 0.0061611,0.358692 0.13043683,0.489133 3.22017688,3.362779 8.80453688,11.91848 8.80453688,11.91848 0.040679,0.06522 0.097822,0.122291 0.163064,0.163064 0,0 0.2894286,0.181376 0.7663199,0.326064 C 10.357302,23.867517 11.056364,24 11.999993,24 c 0.943632,0 1.642701,-0.132495 2.119607,-0.277179 0.476919,-0.144696 0.766325,-0.326064 0.766325,-0.326064 0.06525,-0.04066 0.122267,-0.09781 0.163067,-0.163064 0,0 5.58436,-8.555701 8.804533,-11.91848 0.124316,-0.130435 0.17526,-0.313863 0.130446,-0.489134 C 23.48867,8.8165769 22.553186,7.1657616 21.538219,5.8206523 21.564515,4.6610045 21.585092,3.0020379 21.179524,1.9565214 21.077644,1.6915773 20.922716,1.2574724 20.657776,0.84782608 20.392833,0.43817877 19.952597,0 19.320794,0 19.01304,0 18.89076,0.09374895 18.684906,0.19565216 18.479044,0.29755646 18.240608,0.4320658 17.983808,0.58695662 17.517083,0.86820684 16.981073,1.2289404 16.483776,1.5652179 H 7.5324933 C 7.0352042,1.228942 6.4991867,0.86820684 6.0324627,0.58695662 5.7756536,0.4320658 5.5372093,0.29755559 5.3313611,0.19565216 5.1254959,0.09374876 5.0032342,0 4.6954787,0 Z M 4.646541,1.0434785 c -0.00824,0.00405 0.1080075,0.022431 0.228257,0.081519 0.1610003,0.079487 0.3790703,0.2139953 0.6195802,0.3586972 0.4830251,0.2914389 1.0699944,0.6664408 1.5978583,1.027174 0.020523,0.012234 0.042807,0.022435 0.065238,0.032617 C 6.796724,5.6861552 5.6615183,3.3566709 4.4671944,4.0434909 4.0758822,4.2697126 3.7925885,4.6834379 3.5215242,5.0869693 3.5338489,4.0434913 3.6071409,2.8410466 3.7987094,2.3478393 3.910783,2.0604766 4.0493956,1.6875135 4.2226292,1.4184915 4.3775104,1.1780032 4.5079495,1.0638735 4.6465538,1.0434924 Z m 14.723135,0 c 0.134506,0.020375 0.252744,0.1345103 0.407633,0.374999 0.173238,0.2690204 0.311807,0.6419833 0.423908,0.9293479 0.193629,0.4972828 0.277187,1.7201081 0.293496,2.7717389 C 20.217535,4.7078808 19.934245,4.2737775 19.532749,4.043478 18.34046,3.3586952 17.205249,5.6779884 16.842464,2.5597819 c 0.02831,-0.014256 0.05499,-0.030569 0.08152,-0.04891 0.527869,-0.3607347 1.114836,-0.7357331 1.597866,-1.0271741 0.240499,-0.1447015 0.458566,-0.2792126 0.619573,-0.3586975 0.120242,-0.059106 0.236432,-0.077441 0.228256,-0.081522 z M 9.1955466,2.6086953 H 14.80436 C 14.459919,3.5625 13.565202,6.4667116 13.565202,11.364125 c 0,5.730981 1.630475,7.744564 2.543532,8.42935 -0.745939,1.092398 -1.235079,1.830165 -1.500034,2.233698 v -0.635868 c -0.0021,-0.191565 -0.108003,-0.366867 -0.277183,-0.456522 0,0 -1.07203,-0.586963 -2.331569,-0.586963 -1.259538,0 -2.3315666,0.586963 -2.3315666,0.586963 -0.1691717,0.08971 -0.2751307,0.264937 -0.2771868,0.456522 v 0.635868 c -0.2649449,-0.403542 -0.7540932,-1.1413 -1.5000325,-2.233698 0.9130632,-0.684786 2.5435309,-2.698369 2.5435309,-8.42935 0,-4.8974134 -0.8947184,-7.801625 -1.2391551,-8.7554297 z M 3.1628104,6.570652 c 1.37367,1.3797554 2.4844277,3.2894018 3.2609354,5.217391 0.142681,-0.187498 0.3648151,-0.309796 0.6195802,-0.309796 0.4320745,0 0.7826268,0.350547 0.7826268,0.782605 0,0.432065 -0.3505587,0.782608 -0.7826268,0.782608 -0.059116,0 -0.1080075,-0.0043 -0.1630639,-0.0164 0.8661876,2.618884 1.0822242,5.068605 0.5054476,6.048909 C 5.5657232,16.434788 3.0894465,12.984375 1.1084272,10.858695 1.556807,9.1915786 2.3047831,7.7445687 3.1628203,6.5706554 Z m 17.6742886,0 c 0.858041,1.1759516 1.603979,2.6168481 2.054392,4.28804 -1.981021,2.125678 -4.457296,5.576091 -6.277313,8.217391 -0.57677,-0.980294 -0.360748,-3.430025 0.505448,-6.048908 -0.05505,0.01232 -0.10394,0.0164 -0.163056,0.0164 -0.432078,0 -0.782623,-0.350559 -0.782623,-0.78261 0,-0.432067 0.350551,-0.782615 0.782623,-0.782615 0.254752,0 0.476913,0.122298 0.619573,0.309808 0.776515,-1.9279859 1.88727,-3.8376334 3.26094,-5.2173892 z m -8.837148,14.820653 c 0.701103,0 1.267689,0.213994 1.565251,0.342373 v 1.043477 c -0.377061,0.09171 -0.892678,0.179365 -1.565251,0.179365 -0.672562,0 -1.188205,-0.0876 -1.565249,-0.179365 v -1.043477 c 0.297559,-0.128387 0.86415,-0.342373 1.565249,-0.342373 z",
  "badger-fill":
    "M 49.968349,22.567086 C 49.047055,18.847657 47.33608,15.315048 44.873634,12.058424 44.924576,9.349525 44.822693,5.9103261 44.117919,4.0930707 L 44.049989,3.9147424 C 43.523535,2.5475543 42.542803,0 40.233199,0 39.812884,0 39.116607,0 34.310592,3.2608696 H 15.710638 C 10.904623,0 10.204099,0 9.7837845,0 7.4741794,0 6.4934466,2.5518 5.9669927,3.918988 L 5.9033097,4.0930707 C 5.3259087,5.5664065 5.0711729,8.2370924 5.1433478,12.032949 2.6724106,15.298064 0.95294457,18.839164 0.03165047,22.567086 -0.05750677,22.927989 0.04438752,23.310123 0.30336864,23.577615 7.0623569,30.634341 18.538206,48.242188 18.652836,48.420516 c 0.08916,0.127379 0.199543,0.242018 0.331157,0.322691 C 19.187781,48.87483 21.077071,50 25.000002,50 c 3.918685,0 5.81222,-1.12517 6.016008,-1.256793 0.131614,-0.08067 0.246245,-0.195312 0.331157,-0.322691 0.114632,-0.178328 11.590476,-17.786175 18.349464,-24.842901 0.258982,-0.267492 0.360876,-0.649626 0.271718,-1.010529 z M 34.641749,5.4347826 c 0.08492,0 0.165579,-0.016984 0.246244,-0.038213 0.06793,-0.012738 0.131614,-0.038213 0.191053,-0.067935 0.75147,6.5557064 3.116267,1.6601565 5.604186,3.0910326 0.840628,0.4840348 1.447748,1.4054011 2.025149,2.2673228 0.0042,0.547725 0,1.108187 -0.01274,1.702617 -0.0085,0.250508 0.07218,0.496772 0.225016,0.692084 0.161333,0.208051 0.314175,0.420347 0.467016,0.632644 -2.857285,2.870244 -5.154153,6.835937 -6.76748,10.844089 -0.297188,-0.386379 -0.764204,-0.645381 -1.294903,-0.645381 -0.900066,0 -1.630309,0.730299 -1.630309,1.630435 0,0.900136 0.730243,1.630435 1.630309,1.630435 0.123122,0 0.237753,-0.01699 0.352385,-0.04246 -1.795888,5.42629 -2.262902,10.500169 -1.086873,12.567934 -0.360875,0.526495 -0.71326,1.036006 -1.048662,1.524286 0,0.0042 0,0.0042 -0.0042,0.0085 -1.906272,-1.452106 -5.277276,-5.69803 -5.277276,-17.565387 0,-9.859035 1.791642,-16.0326084 2.560095,-18.2319975 z M 29.347491,47.134001 c -0.696277,0.275986 -2.118552,0.692086 -4.347489,0.692086 -2.228938,0 -3.655458,-0.420347 -4.34749,-0.692086 v -2.568784 c 0,0 2.07185,-1.086956 4.34749,-1.086956 2.275639,0 4.347489,1.086956 4.347489,1.086956 z M 7.321338,12.368376 C 7.3086009,11.769701 7.3086009,11.204993 7.3086009,10.65727 7.8817566,9.8080848 8.4846317,8.8952109 9.3167688,8.4196674 11.80469,6.9887913 14.169487,11.888587 14.920958,5.3201424 c 0.06368,0.033967 0.131613,0.059444 0.203789,0.076427 0.08067,0.021229 0.165577,0.038213 0.250489,0.038213 h 3.804054 c 0.768453,2.1993891 2.560094,8.3729626 2.560094,18.2319976 0,11.867357 -3.371002,16.113281 -5.277276,17.565387 -0.335401,-0.492527 -0.687785,-1.002038 -1.052907,-1.532778 1.176031,-2.063519 0.709015,-7.141644 -1.086873,-12.567935 0.114632,0.02548 0.229263,0.04246 0.352385,0.04246 0.900066,0 1.630309,-0.730299 1.630309,-1.630435 0,-0.900136 -0.730243,-1.630435 -1.630309,-1.630435 -0.530699,0 -0.997715,0.259002 -1.294906,0.649627 C 11.76648,20.554517 9.4653642,16.588825 6.6080779,13.714335 6.7694111,13.493547 6.9264979,13.277004 7.0963217,13.060462 7.2491631,12.860903 7.3298297,12.61464 7.321338,12.368376 Z"
};

async function getIcon(name) {
  return { path: EDC_ICONS_MAP[name] };
}

let edc_icons_mode = 'modern';
window.customIconsets = window.customIconsets || {};
window.customIconsets["edc"] = getIcon;

async function getIconList() {
  return Object.keys(EDC_ICONS_MAP).map(icon => ({name: icon}));
}

if (!window.frontendVersion || window.frontendVersion < 20200519.0) {
  // ha-iconset-svg (Up to Home Assistant 0.109):
  const iconset = document.createElement("ha-iconset-svg");
  iconset.name = "edc";
  iconset.size = "2";

  let iconsetHTML = "";
  for (let key in EDC_ICONS_MAP) {
    iconsetHTML += `<g id="${key}"><path d="${EDC_ICONS_MAP[key]}" /></g>`;
  }

  iconset.innerHTML = `<svg><defs>${iconsetHTML}</defs></svg>`;
  document.body.appendChild(iconset);

  edc_icons_mode = 'legacy';
} else if(window.frontendVersion > 20211027.0) {
  // new enough to support getIcon and getIconlist
  edc_icons_mode = 'picker';
  window.customIcons["edc"] = { getIcon, getIconList };
}

console.info(
  `%c HASS-EDC-ICONS         \n%c Version 1.0 [` + edc_icons_mode + `] `,
  "color: orange; font-weight: bold; background: black",
  "color: white; font-weight: bold; background: dimgray"
);