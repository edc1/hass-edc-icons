const EDC_ICONS_MAP = {
  "badger": 
    "M 4.6954666,0 C 4.0636597,0 3.6234342,0.43817954 3.3584794,0.84782611 3.0935371,1.2574734 2.9386347,1.6915764 2.836729,1.9565217 2.4372821,2.9857335 2.4515378,4.6141303 2.4780361,5.7717395 1.4528789,7.1229616 0.51739708,8.7982323 0.01602796,10.826085 c -0.0448218,0.175256 0.0061614,0.358686 0.13043686,0.489133 3.22017718,3.362773 8.80453658,11.918477 8.80453658,11.918477 0.040679,0.0652 0.097824,0.122294 0.1630631,0.163059 0,0 0.289427,0.181377 0.7663199,0.326067 C 10.357299,23.867517 11.056363,24 11.999994,24 c 0.943634,0 1.642703,-0.132494 2.11961,-0.277179 0.476917,-0.144697 0.766324,-0.326067 0.766324,-0.326067 0.06523,-0.04067 0.122263,-0.09783 0.163063,-0.163059 0,0 5.584358,-8.555704 8.804537,-11.918477 0.124317,-0.13044 0.175257,-0.313865 0.130442,-0.489133 C 23.488666,8.8165766 22.553188,7.1657613 21.53822,5.8206522 21.56451,4.6610048 21.58509,3.002038 21.179524,1.9565217 21.077641,1.6915769 20.922717,1.2574727 20.657776,0.84782611 20.392832,0.43817871 19.952599,0 19.320791,0 19.013041,0 18.890757,0.09374894 18.684909,0.1956522 18.479044,0.29755647 18.240607,0.43206575 17.983807,0.58695659 17.517085,0.86820685 16.981069,1.2289406 16.483772,1.5652175 H 7.5324935 C 7.0352038,1.2289421 6.4991866,0.86820685 6.0324627,0.58695659 5.7756536,0.43206575 5.5372095,0.29755564 5.3313611,0.1956522 5.1254956,0.09374875 5.0032341,0 4.6954789,0 Z m -0.048929,1.0434782 c -0.00821,0.00408 0.1080069,0.022431 0.2282554,0.081523 0.1610026,0.079485 0.3790705,0.213995 0.6195801,0.3586976 0.4830252,0.2914386 1.0699944,0.6664405 1.5978585,1.0271741 0.020536,0.012236 0.042802,0.022431 0.065239,0.032619 C 6.7967239,5.686155 5.661518,3.3566706 4.4671944,4.0434911 4.075882,4.2697129 3.7925881,4.6834375 3.5215241,5.0869693 3.5338491,4.0434915 3.6071407,2.8410467 3.7987093,2.3478397 3.9107827,2.0604764 4.0493959,1.6875134 4.2226293,1.4184917 4.3775111,1.1780026 4.5079486,1.0638734 4.6465535,1.0434926 Z m 14.7231374,0 c 0.134502,0.020377 0.252742,0.1345106 0.407627,0.374999 0.173242,0.2690203 0.311815,0.641984 0.423917,0.9293481 0.193624,0.4972826 0.277186,1.7201081 0.293496,2.7717388 C 20.217538,4.707881 19.934242,4.2737774 19.532744,4.0434778 18.340463,3.3586956 17.205248,5.6779887 16.842465,2.5597823 c 0.02834,-0.014256 0.055,-0.030565 0.08152,-0.048912 0.527867,-0.3607351 1.114837,-0.7357334 1.597861,-1.027174 0.240499,-0.1447017 0.458569,-0.2792126 0.619577,-0.3586977 0.120243,-0.059104 0.236429,-0.077443 0.228255,-0.081523 z M 9.1955464,2.6086957 h 5.6088156 c -0.344439,0.9538039 -1.239157,3.8580156 -1.239157,8.7554343 0,5.73098 1.630469,7.744563 2.543532,8.429347 -0.745938,1.092391 -1.23508,1.830162 -1.500032,2.233697 v -0.635873 c -0.002,-0.191564 -0.108004,-0.36686 -0.277185,-0.456521 0,0 -1.072033,-0.586956 -2.331571,-0.586956 -1.259537,0 -2.3315689,0.586956 -2.3315689,0.586956 -0.169173,0.08967 -0.2751314,0.264937 -0.2771852,0.456521 v 0.635873 C 9.1262515,21.623627 8.6371013,20.885868 7.8911625,19.793477 8.8042255,19.108693 10.434695,17.09511 10.434695,11.36413 c 0,-4.8974187 -0.8947204,-7.8016304 -1.2391571,-8.7554343 z m -6.0327357,3.961956 c 1.3736699,1.3797558 2.4844272,3.2894024 3.2609352,5.2173933 0.1426803,-0.187498 0.3648146,-0.309797 0.6195801,-0.309797 0.4320748,0 0.7826266,0.35055 0.7826266,0.782607 0,0.432062 -0.3505603,0.782609 -0.7826266,0.782609 -0.059112,0 -0.1080068,-0.0041 -0.163063,-0.01643 0.8661876,2.618884 1.0822242,5.068613 0.5054479,6.048912 C 5.5657233,16.434785 3.0894466,12.984379 1.1084267,10.858699 1.5568071,9.191578 2.3047834,7.7445685 3.1628202,6.5706551 Z m 17.6742863,0 c 0.858038,1.1759516 1.603977,2.616848 2.054392,4.2880443 -1.981018,2.125679 -4.457295,5.576085 -6.277308,8.21739 -0.576774,-0.980298 -0.360747,-3.430027 0.505448,-6.04891 -0.05506,0.01232 -0.103939,0.01643 -0.163063,0.01643 -0.432075,0 -0.782625,-0.350552 -0.782625,-0.782611 0,-0.432065 0.350557,-0.782607 0.782625,-0.782607 0.254755,0 0.476915,0.122294 0.619577,0.309798 0.776511,-1.9279904 1.88727,-3.8376377 3.260939,-5.2173936 z M 11.999953,21.391301 c 0.701101,0 1.267689,0.213996 1.565252,0.342377 v 1.043479 c -0.377058,0.09169 -0.892682,0.179362 -1.565252,0.179362 -0.672568,0 -1.188206,-0.0876 -1.56525,-0.179362 v -1.043479 c 0.297561,-0.128388 0.864152,-0.342377 1.56525,-0.342377 z",
  "badger-fill":
    "M 49.968349,22.567086 C 49.047055,18.847657 47.33608,15.315048 44.873634,12.058424 44.924576,9.349525 44.822693,5.9103261 44.117919,4.0930707 L 44.049989,3.9147424 C 43.523535,2.5475543 42.542803,0 40.233199,0 39.812884,0 39.116607,0 34.310592,3.2608696 H 15.710638 C 10.904623,0 10.204099,0 9.7837845,0 7.4741794,0 6.4934466,2.5518 5.9669927,3.918988 L 5.9033097,4.0930707 C 5.3259087,5.5664065 5.0711729,8.2370924 5.1433478,12.032949 2.6724106,15.298064 0.95294457,18.839164 0.03165047,22.567086 -0.05750677,22.927989 0.04438752,23.310123 0.30336864,23.577615 7.0623569,30.634341 18.538206,48.242188 18.652836,48.420516 c 0.08916,0.127379 0.199543,0.242018 0.331157,0.322691 C 19.187781,48.87483 21.077071,50 25.000002,50 c 3.918685,0 5.81222,-1.12517 6.016008,-1.256793 0.131614,-0.08067 0.246245,-0.195312 0.331157,-0.322691 0.114632,-0.178328 11.590476,-17.786175 18.349464,-24.842901 0.258982,-0.267492 0.360876,-0.649626 0.271718,-1.010529 z M 34.641749,5.4347826 c 0.08492,0 0.165579,-0.016984 0.246244,-0.038213 0.06793,-0.012738 0.131614,-0.038213 0.191053,-0.067935 0.75147,6.5557064 3.116267,1.6601565 5.604186,3.0910326 0.840628,0.4840348 1.447748,1.4054011 2.025149,2.2673228 0.0042,0.547725 0,1.108187 -0.01274,1.702617 -0.0085,0.250508 0.07218,0.496772 0.225016,0.692084 0.161333,0.208051 0.314175,0.420347 0.467016,0.632644 -2.857285,2.870244 -5.154153,6.835937 -6.76748,10.844089 -0.297188,-0.386379 -0.764204,-0.645381 -1.294903,-0.645381 -0.900066,0 -1.630309,0.730299 -1.630309,1.630435 0,0.900136 0.730243,1.630435 1.630309,1.630435 0.123122,0 0.237753,-0.01699 0.352385,-0.04246 -1.795888,5.42629 -2.262902,10.500169 -1.086873,12.567934 -0.360875,0.526495 -0.71326,1.036006 -1.048662,1.524286 0,0.0042 0,0.0042 -0.0042,0.0085 -1.906272,-1.452106 -5.277276,-5.69803 -5.277276,-17.565387 0,-9.859035 1.791642,-16.0326084 2.560095,-18.2319975 z M 29.347491,47.134001 c -0.696277,0.275986 -2.118552,0.692086 -4.347489,0.692086 -2.228938,0 -3.655458,-0.420347 -4.34749,-0.692086 v -2.568784 c 0,0 2.07185,-1.086956 4.34749,-1.086956 2.275639,0 4.347489,1.086956 4.347489,1.086956 z M 7.321338,12.368376 C 7.3086009,11.769701 7.3086009,11.204993 7.3086009,10.65727 7.8817566,9.8080848 8.4846317,8.8952109 9.3167688,8.4196674 11.80469,6.9887913 14.169487,11.888587 14.920958,5.3201424 c 0.06368,0.033967 0.131613,0.059444 0.203789,0.076427 0.08067,0.021229 0.165577,0.038213 0.250489,0.038213 h 3.804054 c 0.768453,2.1993891 2.560094,8.3729626 2.560094,18.2319976 0,11.867357 -3.371002,16.113281 -5.277276,17.565387 -0.335401,-0.492527 -0.687785,-1.002038 -1.052907,-1.532778 1.176031,-2.063519 0.709015,-7.141644 -1.086873,-12.567935 0.114632,0.02548 0.229263,0.04246 0.352385,0.04246 0.900066,0 1.630309,-0.730299 1.630309,-1.630435 0,-0.900136 -0.730243,-1.630435 -1.630309,-1.630435 -0.530699,0 -0.997715,0.259002 -1.294906,0.649627 C 11.76648,20.554517 9.4653642,16.588825 6.6080779,13.714335 6.7694111,13.493547 6.9264979,13.277004 7.0963217,13.060462 7.2491631,12.860903 7.3298297,12.61464 7.321338,12.368376 Z"
};

async function getIcon(name) {
  return { path: EDC_ICONS_MAP[name] };
}

let edc_icons_mode = 'modern';
window.customIconsets = window.customIconsets || {};
window.customIconsets["edc"] = getIcon;

async function getIconList() {
  return Object.keys(EDC_ICONS_MAP).map(icon => ({name: icon}));
}

if (!window.frontendVersion || window.frontendVersion < 20200519.0) {
  // ha-iconset-svg (Up to Home Assistant 0.109):
  const iconset = document.createElement("ha-iconset-svg");
  iconset.name = "edc";
  iconset.size = "2";

  let iconsetHTML = "";
  for (let key in EDC_ICONS_MAP) {
    iconsetHTML += `<g id="${key}"><path d="${EDC_ICONS_MAP[key]}" /></g>`;
  }

  iconset.innerHTML = `<svg><defs>${iconsetHTML}</defs></svg>`;
  document.body.appendChild(iconset);

  edc_icons_mode = 'legacy';
} else if(window.frontendVersion > 20211027.0) {
  // new enough to support getIcon and getIconlist
  edc_icons_mode = 'picker';
  window.customIcons["edc"] = { getIcon, getIconList };
}

console.info(
  `%c HASS-EDC-ICONS         \n%c Version 1.0 [` + edc_icons_mode + `] `,
  "color: orange; font-weight: bold; background: black",
  "color: white; font-weight: bold; background: dimgray"
);