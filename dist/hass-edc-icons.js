const EDC_ICONS_MAP = {
  "badger": 
    "M 11 2 C 9.789063 2 8.945313 2.839844 8.4375 3.625 C 7.929688 4.410156 7.632813 5.242188 7.4375 5.75 C 6.671875 7.722656 6.699219 10.84375 6.75 13.0625 C 4.785156 15.652344 2.992188 18.863281 2.03125 22.75 C 1.945313 23.085938 2.042969 23.4375 2.28125 23.6875 C 8.453125 30.132813 19.15625 46.53125 19.15625 46.53125 C 19.234375 46.65625 19.34375 46.765625 19.46875 46.84375 C 19.46875 46.84375 20.023438 47.191406 20.9375 47.46875 C 21.851563 47.746094 23.191406 48 25 48 C 26.808594 48 28.148438 47.746094 29.0625 47.46875 C 29.976563 47.191406 30.53125 46.84375 30.53125 46.84375 C 30.65625 46.765625 30.765625 46.65625 30.84375 46.53125 C 30.84375 46.53125 41.546875 30.132813 47.71875 23.6875 C 47.957031 23.4375 48.054688 23.085938 47.96875 22.75 C 47.019531 18.898438 45.226563 15.734375 43.28125 13.15625 C 43.332031 10.933594 43.371094 7.753906 42.59375 5.75 C 42.398438 5.242188 42.101563 4.410156 41.59375 3.625 C 41.085938 2.839844 40.242188 2 39.03125 2 C 38.441406 2 38.207031 2.179688 37.8125 2.375 C 37.417969 2.570313 36.960938 2.828125 36.46875 3.125 C 35.574219 3.664063 34.546875 4.355469 33.59375 5 L 16.4375 5 C 15.484375 4.355469 14.457031 3.664063 13.5625 3.125 C 13.070313 2.828125 12.613281 2.570313 12.21875 2.375 C 11.824219 2.179688 11.589844 2 11 2 Z M 10.90625 4 C 10.890625 4.007813 11.113281 4.042969 11.34375 4.15625 C 11.652344 4.308594 12.070313 4.566406 12.53125 4.84375 C 13.457031 5.402344 14.582031 6.121094 15.59375 6.8125 C 15.632813 6.835938 15.675781 6.855469 15.71875 6.875 C 15.027344 12.898438 12.851563 8.433594 10.5625 9.75 C 9.8125 10.183594 9.269531 10.976563 8.75 11.75 C 8.773438 9.75 8.914063 7.445313 9.28125 6.5 C 9.496094 5.949219 9.761719 5.234375 10.09375 4.71875 C 10.390625 4.257813 10.640625 4.039063 10.90625 4 Z M 39.125 4 C 39.382813 4.039063 39.609375 4.257813 39.90625 4.71875 C 40.238281 5.234375 40.503906 5.949219 40.71875 6.5 C 41.089844 7.453125 41.25 9.796875 41.28125 11.8125 C 40.75 11.023438 40.207031 10.191406 39.4375 9.75 C 37.152344 8.4375 34.976563 12.882813 34.28125 6.90625 C 34.335938 6.878906 34.386719 6.847656 34.4375 6.8125 C 35.449219 6.121094 36.574219 5.402344 37.5 4.84375 C 37.960938 4.566406 38.378906 4.308594 38.6875 4.15625 C 38.917969 4.042969 39.140625 4.007813 39.125 4 Z M 19.625 7 L 30.375 7 C 29.714844 8.828125 28 14.394531 28 23.78125 C 28 34.765625 31.125 38.625 32.875 39.9375 C 31.445313 42.03125 30.507813 43.445313 30 44.21875 L 30 43 C 29.996094 42.632813 29.792969 42.296875 29.46875 42.125 C 29.46875 42.125 27.414063 41 25 41 C 22.585938 41 20.53125 42.125 20.53125 42.125 C 20.207031 42.296875 20.003906 42.632813 20 43 L 20 44.21875 C 19.492188 43.445313 18.554688 42.03125 17.125 39.9375 C 18.875 38.625 22 34.765625 22 23.78125 C 22 14.394531 20.285156 8.828125 19.625 7 Z M 8.0625 14.59375 C 10.695313 17.238281 12.824219 20.898438 14.3125 24.59375 C 14.585938 24.234375 15.011719 24 15.5 24 C 16.328125 24 17 24.671875 17 25.5 C 17 26.328125 16.328125 27 15.5 27 C 15.386719 27 15.292969 26.992188 15.1875 26.96875 C 16.847656 31.988281 17.261719 36.683594 16.15625 38.5625 C 12.667969 33.5 7.921875 26.886719 4.125 22.8125 C 4.984375 19.617188 6.417969 16.84375 8.0625 14.59375 Z M 41.9375 14.59375 C 43.582031 16.847656 45.011719 19.609375 45.875 22.8125 C 42.078125 26.886719 37.332031 33.5 33.84375 38.5625 C 32.738281 36.683594 33.152344 31.988281 34.8125 26.96875 C 34.707031 26.992188 34.613281 27 34.5 27 C 33.671875 27 33 26.328125 33 25.5 C 33 24.671875 33.671875 24 34.5 24 C 34.988281 24 35.414063 24.234375 35.6875 24.59375 C 37.175781 20.898438 39.304688 17.238281 41.9375 14.59375 Z M 25 43 C 26.34375 43 27.429688 43.410156 28 43.65625 L 28 45.65625 C 27.277344 45.832031 26.289063 46 25 46 C 23.710938 46 22.722656 45.832031 22 45.65625 L 22 43.65625 C 22.570313 43.410156 23.65625 43 25 43 Z"
};

async function getIcon(name) {
  return { path: EDC_ICONS_MAP[name] };
}

let edc_icons_mode = 'modern';
window.customIconsets = window.customIconsets || {};
window.customIconsets["edc"] = getIcon;

async function getIconList() {
  return Object.keys(EDC_ICONS_MAP).map(icon => ({name: icon}));
}

if (!window.frontendVersion || window.frontendVersion < 20200519.0) {
  // ha-iconset-svg (Up to Home Assistant 0.109):
  const iconset = document.createElement("ha-iconset-svg");
  iconset.name = "edc";
  iconset.size = "1";

  let iconsetHTML = "";
  for (let key in EDC_ICONS_MAP) {
    iconsetHTML += `<g id="${key}"><path d="${EDC_ICONS_MAP[key]}" /></g>`;
  }

  iconset.innerHTML = `<svg><defs>${iconsetHTML}</defs></svg>`;
  document.body.appendChild(iconset);

  edc_icons_mode = 'legacy';
} else if(window.frontendVersion > 20211027.0) {
  // new enough to support getIcon and getIconlist
  edc_icons_mode = 'picker';
  window.customIcons["edc"] = { getIcon, getIconList };
}

console.info(
  `%c HASS-EDC-ICONS         \n%c Version 1.0 [` + edc_icons_mode + `] `,
  "color: orange; font-weight: bold; background: black",
  "color: white; font-weight: bold; background: dimgray"
);