const EDC_ICONS_MAP = {
  "badger": 
    "M 4.7563376,0.1 C 4.1297959,0.1 3.6932388,0.53452804 3.430492,0.94076089 3.1677575,1.3469944 3.0141461,1.77748 2.9130896,2.0402173 2.5169713,3.0608523 2.5311082,4.6756793 2.5573857,5.8236417 1.5407715,7.1636036 0.6130854,8.8249137 0.11589436,10.835867 c -0.0444483,0.173796 0.00611,0.355698 0.12934988,0.485057 3.19334236,3.334751 8.73116526,11.819157 8.73116526,11.819157 0.04034,0.06466 0.097008,0.121274 0.1617043,0.161701 0,0 0.287015,0.179865 0.7599339,0.323349 C 10.370989,23.768621 11.064227,23.9 11.999994,23.9 c 0.93577,0 1.629013,-0.13139 2.101946,-0.274869 0.472943,-0.143491 0.759938,-0.323349 0.759938,-0.323349 0.06469,-0.04033 0.121245,-0.09701 0.161705,-0.161701 0,0 5.537822,-8.484406 8.731165,-11.819157 0.123281,-0.129352 0.173797,-0.311249 0.129356,-0.485057 C 23.392926,8.8431052 22.465244,7.2060467 21.458734,5.8721468 21.484804,4.722163 21.505214,3.077021 21.103028,2.0402173 21.001993,1.7774805 20.848361,1.3469937 20.585628,0.94076089 20.322892,0.53452723 19.886327,0.1 19.259785,0.1 c -0.305186,0 -0.426452,0.0929677 -0.630584,0.19402176 -0.204149,0.10105507 -0.4406,0.23444345 -0.69526,0.38804353 -0.462832,0.2789065 -0.994382,0.63663411 -1.487533,0.97010881 H 7.5697227 C 7.076577,1.3187009 6.5450266,0.96097179 6.0821921,0.68206529 5.8275231,0.52846521 5.5910661,0.395076 5.3869331,0.29402176 5.182783,0.19296751 5.0615405,0.1 4.7563499,0.1 Z m -0.048521,1.0347826 c -0.00815,0.00404 0.1071069,0.022244 0.2263532,0.080843 0.159661,0.078823 0.3759117,0.2122118 0.614417,0.3557084 0.4789999,0.28901 1.0610777,0.6608869 1.584543,1.0186143 0.020364,0.012134 0.042446,0.022245 0.064695,0.032347 -0.3577403,3.1164751 -1.4834862,0.8064031 -2.667857,1.4875 C 4.1419162,4.3341319 3.8609831,4.7444089 3.5921781,5.1445779 3.6044003,4.1097957 3.6770811,2.9173713 3.8670533,2.4282743 3.9781929,2.1433058 4.1156509,1.7734508 4.2874407,1.5066709 4.4410318,1.268186 4.5703824,1.1550078 4.7078321,1.1347968 Z m 14.6004444,0 c 0.133381,0.020207 0.250636,0.1333896 0.404229,0.371874 0.1718,0.2667785 0.309217,0.636634 0.420385,0.9216035 0.19201,0.4931386 0.274876,1.7057739 0.29105,2.748641 C 20.149058,4.7686486 19.868124,4.3381626 19.46997,4.1097822 18.287625,3.4307064 17.16187,5.7306721 16.802111,2.6384507 c 0.0281,-0.014138 0.05454,-0.030311 0.08084,-0.048504 C 17.40642,2.2322178 17.988498,1.8603445 18.467498,1.5713325 18.705991,1.4278368 18.922245,1.2944467 19.081911,1.215624 19.201152,1.157012 19.31637,1.138827 19.308264,1.134781 Z M 9.2189167,2.6869565 h 5.5620753 c -0.341569,0.9458557 -1.228831,3.8258656 -1.228831,8.6824715 0,5.683222 1.616883,7.680025 2.522336,8.359103 -0.739722,1.083289 -1.224788,1.814912 -1.487532,2.215083 v -0.630573 c -0.002,-0.189968 -0.107104,-0.363804 -0.274875,-0.452717 0,0 -1.063099,-0.582066 -2.312141,-0.582066 -1.249041,0 -2.312139,0.582066 -2.312139,0.582066 -0.1677632,0.08893 -0.2728386,0.262729 -0.2748752,0.452717 v 0.630573 C 9.1501992,21.543431 8.6651252,20.81182 7.9254027,19.728531 8.8308568,19.049453 10.447739,17.05265 10.447739,11.369428 c 0,-4.8566059 -0.8872643,-7.7366158 -1.2288308,-8.6824715 z M 3.2364539,6.6158963 c 1.3622227,1.3682578 2.4637236,3.2619906 3.2337608,5.1739147 0.1414913,-0.185936 0.3617744,-0.307215 0.6144169,-0.307215 0.4284742,0 0.7761046,0.347628 0.7761046,0.776085 0,0.428462 -0.3476389,0.776087 -0.7761046,0.776087 -0.05862,0 -0.1071068,-0.0041 -0.1617042,-0.01629 0.8589694,2.59706 1.0732055,5.026373 0.5012359,5.998504 C 5.6193423,16.397829 3.1637012,12.976175 1.1991898,10.868209 1.6438337,9.2149816 2.3855768,7.7800305 3.2364634,6.6158997 Z m 17.5270011,0 c 0.850887,1.166152 1.590609,2.595041 2.037272,4.2523097 -1.96451,2.107965 -4.420151,5.529619 -6.224998,8.148912 -0.571968,-0.972128 -0.357741,-3.401443 0.501236,-5.998502 -0.0546,0.01222 -0.103073,0.01629 -0.161703,0.01629 -0.428475,0 -0.776104,-0.347632 -0.776104,-0.776089 0,-0.428465 0.347636,-0.776087 0.776104,-0.776087 0.252631,0 0.472939,0.121276 0.614413,0.307218 0.770041,-1.9119246 1.871542,-3.8056583 3.233765,-5.1739162 z M 11.999953,21.313041 c 0.695259,0 1.257125,0.212212 1.552208,0.339523 v 1.034783 c -0.373916,0.09093 -0.885242,0.177868 -1.552208,0.177868 -0.666962,0 -1.178304,-0.08688 -1.552206,-0.177868 v -1.034783 c 0.295081,-0.127318 0.85695,-0.339523 1.552206,-0.339523 z"
};

async function getIcon(name) {
  return { path: EDC_ICONS_MAP[name] };
}

let edc_icons_mode = 'modern';
window.customIconsets = window.customIconsets || {};
window.customIconsets["edc"] = getIcon;

async function getIconList() {
  return Object.keys(EDC_ICONS_MAP).map(icon => ({name: icon}));
}

if (!window.frontendVersion || window.frontendVersion < 20200519.0) {
  // ha-iconset-svg (Up to Home Assistant 0.109):
  const iconset = document.createElement("ha-iconset-svg");
  iconset.name = "edc";
  iconset.size = "1";

  let iconsetHTML = "";
  for (let key in EDC_ICONS_MAP) {
    iconsetHTML += `<g id="${key}"><path d="${EDC_ICONS_MAP[key]}" /></g>`;
  }

  iconset.innerHTML = `<svg><defs>${iconsetHTML}</defs></svg>`;
  document.body.appendChild(iconset);

  edc_icons_mode = 'legacy';
} else if(window.frontendVersion > 20211027.0) {
  // new enough to support getIcon and getIconlist
  edc_icons_mode = 'picker';
  window.customIcons["edc"] = { getIcon, getIconList };
}

console.info(
  `%c HASS-EDC-ICONS         \n%c Version 1.0 [` + edc_icons_mode + `] `,
  "color: orange; font-weight: bold; background: black",
  "color: white; font-weight: bold; background: dimgray"
);